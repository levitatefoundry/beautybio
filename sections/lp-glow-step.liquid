{{ 'lp-glow-step.css' | asset_url | stylesheet_tag }}

<section class="lp-glow-step" style="padding-top: {{ section.settings.padding_top_desktop }}px; padding-bottom: {{ section.settings.padding_bottom_desktop }}px; background: {{ section.settings.background_color }};">
  <div class="section section--vertical-padding-none">
    <div class="lp-glow-step__container">
      {% if section.settings.heading != blank %}
        <h2 class="lp-glow-step__heading">{{ section.settings.heading }}</h2>
      {% endif %}
      
      {% if section.settings.text != blank %}
        <div class="lp-glow-step__text">{{ section.settings.text }}</div>
      {% endif %}
      
      {% if section.blocks.size > 0 %}
        <div class="lp-glow-step__steps">
          {% for block in section.blocks %}
            {% case block.type %}
              {% when 'step' %}
                <div class="lp-glow-step__step" {{ block.shopify_attributes }}>
                  <div class="lp-glow-step__step-number">{{ forloop.index }}</div>
                  
                  {% if block.settings.step_title != blank %}
                    <h3 class="lp-glow-step__step-title">{{ block.settings.step_title }}</h3>
                  {% endif %}
                  
                  {% if block.settings.step_text != blank %}
                    <div class="lp-glow-step__step-text">{{ block.settings.step_text }}</div>
                  {% endif %}
                </div>
            {% endcase %}
          {% endfor %}
        </div>
      {% endif %}
      
      {% if section.settings.button_text != blank %}
        <div class="lp-glow-step__button">
          <a href="{{ section.settings.button_url | default: '#' }}" 
             class="btn lp-glow-step__btn">
            {{ section.settings.button_text }}
          </a>
        </div>
      {% endif %}
    </div>
  </div>
</section>

<style>
  @media (max-width: 768px) {
    .lp-glow-step {
      padding-top: {{ section.settings.padding_top_mobile }}px !important;
      padding-bottom: {{ section.settings.padding_bottom_mobile }}px !important;
    }
  }
</style>

{% schema %}
{
  "name": "LP Glow Step",
  "tag": "section",
  "class": "lp-glow-step-section",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Section Heading",
      "default": "Your Glow in 3 Simple Steps"
    },
    {
      "type": "richtext",
      "id": "text",
      "label": "Section Text",
      "default": "<p>Glow and protect in seconds â€” no complicated routine, no heavy makeup.<br>Just shake, blend, and go.</p>"
    },
    {
      "type": "color_background",
      "id": "background_color",
      "label": "Background Color",
      "default": "#F0F8FF"
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "Button Text",
      "default": "SHOP BLENDROPS"
    },
    {
      "type": "url",
      "id": "button_url",
      "label": "Button URL"
    },
    {
      "type": "header",
      "content": "Desktop Padding"
    },
    {
      "type": "range",
      "id": "padding_top_desktop",
      "min": 0,
      "max": 200,
      "step": 5,
      "unit": "px",
      "label": "Padding Top (Desktop)",
      "default": 60
    },
    {
      "type": "range",
      "id": "padding_bottom_desktop",
      "min": 0,
      "max": 200,
      "step": 5,
      "unit": "px",
      "label": "Padding Bottom (Desktop)",
      "default": 60
    },
    {
      "type": "header",
      "content": "Mobile Padding"
    },
    {
      "type": "range",
      "id": "padding_top_mobile",
      "min": 0,
      "max": 200,
      "step": 5,
      "unit": "px",
      "label": "Padding Top (Mobile)",
      "default": 40
    },
    {
      "type": "range",
      "id": "padding_bottom_mobile",
      "min": 0,
      "max": 200,
      "step": 5,
      "unit": "px",
      "label": "Padding Bottom (Mobile)",
      "default": 40
    }
  ],
  "blocks": [
    {
      "type": "step",
      "name": "Step",
      "settings": [
        {
          "type": "text",
          "id": "step_title",
          "label": "Step Title",
          "default": "Shake It Up"
        },
        {
          "type": "richtext",
          "id": "step_text",
          "label": "Step Text",
          "default": "<p>Shake well to evenly disperse mineral filters and pigments for consistent protection and a seamless finish.</p>"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "LP Glow Step",
      "blocks": [
        {
          "type": "step",
          "settings": {
            "step_title": "Shake It Up",
            "step_text": "<p>Shake well to evenly disperse mineral filters and pigments for consistent protection and a seamless finish.</p>"
          }
        },
        {
          "type": "step",
          "settings": {
            "step_title": "Blend + Apply",
            "step_text": "<p>Apply using fingertips or a blending sponge or mix with makeup or moisturizer. Perfecting or Bronzing to contour, and Illuminizing to highlight for a full-face glow. Layer as needed.</p>"
          }
        },
        {
          "type": "step",
          "settings": {
            "step_title": "Glow All Day",
            "step_text": "<p>Stay protected all day. Keep the conveniently packaged drops with you to touch-up SPF protection every 2 hours.</p>"
          }
        }
      ]
    }
  ]
}
{% endschema %}